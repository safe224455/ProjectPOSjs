<!DOCTYPE html>
<script>
    var x = {
                PD_id : [1,2,3,4,5],
                Name_PD :["สิ้นค้า","สิ้นค้า","สิ้นค้า","สิ้นค้า","สิ้นค้า"],
                Price_PD :[100,101,102,103,104],
                state_PD : [0,1,1,1,0]
            }
</script>
<script>
    tablePD = function(){
    var mytable = "";
    for (var i = 0; i < x.PD_id.length; i++) {
    // if (i % 1 == 3 && i != 1) {
    // mytable += "</tr><tr>";
    //     }
     mytable += "<tr>";
     mytable += "<td>" + x.PD_id[i] + "</td>";
     mytable += "<td>" + x.Name_PD[i] + "</td>";
     mytable += "<td>" + x.Price_PD[i] + "</td>";
     mytable += "<td>" + x.state_PD[i] + "</td>";
     mytable += "</tr>";
    }
    document.write(mytable);}
</script>
<html>
    <title>Menu</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="undefined" crossorigin="anonymous">
     <head>
    <link rel="stylesheet" href="Style.css">
    <ul>
        <li><a href="/Home.html">Home</a></li>
        <li><a href="#news">News</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#about">About</a></li>
      </ul>
   </head> 
<body>
    <p class="menuFont"><b>Product</b></p>
    <div class="row">   
        <div class="col-1"></div>
        <div class="col-3">
            <input type="text" id="S" name="S">
            <i class="fa fa-search search"></i>
        </div>
        <div class="col-5"></div>
        <!-- Trigger/Open The Modal -->
<button id="myBtn">Open Modal</button>
<button  class="btn-danger" type="button" onclick="del_PD()">Delete</button>
<input type="number" id="del_pd" name="del_pd" style="width: 50px;">

    </div><br><br>
        <table border="1" style=" text-align: center;margin-left: auto;
        margin-right: auto;">
            <tr>
                <th style="width: 100px"> ID </th>
                <th style="width: 100px"> NAME </th>
                <th style="width: 100px"> PRICE </th>
                <th style="width: 100px"> STATUS </th>
            </tr> 
            <script>tablePD()</script>       
</table>


<!-- The Modal -->
<div id="myModal" class="modal">

 <!-- Modal content -->
<div class="modal-content">
    <div class="modal-header">
        <h2>Product ADD</h2>
      <span class="close">&times;</span>
      
    </div>
    <div class="modal-body">
    <div class="row"> 
      <p>ID :</p>&nbsp;<input type="number" id="id_pd" name="id_pd">
      <p>Name : </p>&nbsp;<input type="text" id="Name_p" name="Name_p">
    </div><br>
    <div class="row"> 
      <p>Price : </p> &nbsp;<input type="number" id="Price_P" name="Price_P">
      <p>state : </p> &nbsp;<input type="number" id="state_P" name="state_P">
        </div>
    </div>
    <div class="modal-footer">
        <button  class="btnmodal" type="button" onclick="add_PD()">Submit</button>
    </div>
  </div>
</div>
</body>
<footer class="footer">
    <div>Product by safe</div>  
</footer>
</html>

<script>
    // Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
add_PD = function() {
    var id = document.getElementById("id_pd").value;
    var name = document.getElementById("Name_p").value;
    var Price = document.getElementById("Price_P").value;
    var state = document.getElementById("state_P").value;
    x.PD_id.push(parseInt(id));
    x.Name_PD.push(name);
    x.Price_PD.push(parseInt(Price));
    x.state_PD.push(parseInt(state));
    modal.style.display = "none";
    console.log(x.PD_id)
}
del_PD = function(){
    var d = document.getElementById("del_pd").value;
    const index = x.PD_id.indexOf(parseInt(d));
if (index > -1) {
    x.PD_id.splice(index, 1);
  console.log(x.PD_id)
}
}
</script>

